# Leo Remote - Environment Configuration
#
# Copy this file to .env and fill in your values:
#   cp .env.example .env
#
# This file is gitignored - never commit your actual .env file.

# =============================================================================
# REQUIRED: Claude Code OAuth Token
# =============================================================================
# Your personal Claude Code authentication token.
# Get it from: claude /settings → OAuth Token
# Or run: claude config get oauthToken
#
CLAUDE_CODE_OAUTH_TOKEN=your-token-here

# =============================================================================
# SUPABASE CONFIGURATION: Choose ONE mode
# =============================================================================
# Leo-remote supports two Supabase modes:
#
#   POOLED (default): Pre-created projects reused across generations
#     - Cost-effective (reuse same projects)
#     - DatabaseResetManager cleans between uses
#     - Supports N concurrent generations with N pool projects
#
#   PER-APP: Agent creates new Supabase project per generation
#     - Projects persist after generation
#     - Agent uses Supabase MCP tool to create project
#     - Requires SUPABASE_ACCESS_TOKEN

# -----------------------------------------------------------------------------
# OPTION A: POOLED MODE (Recommended)
# -----------------------------------------------------------------------------
SUPABASE_MODE=pooled

# Pool project 1
SUPABASE_POOL_1_URL=https://your-project-1.supabase.co
SUPABASE_POOL_1_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
SUPABASE_POOL_1_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
SUPABASE_POOL_1_DATABASE_URL=postgresql://postgres.your-project-1:[PASSWORD]@aws-0-us-east-1.pooler.supabase.com:6543/postgres

# Pool project 2 (for concurrent generations)
SUPABASE_POOL_2_URL=https://your-project-2.supabase.co
SUPABASE_POOL_2_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
SUPABASE_POOL_2_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
SUPABASE_POOL_2_DATABASE_URL=postgresql://postgres.your-project-2:[PASSWORD]@aws-0-us-east-1.pooler.supabase.com:6543/postgres

# Add more pool projects for more concurrency:
# SUPABASE_POOL_3_URL=...
# SUPABASE_POOL_3_ANON_KEY=...
# SUPABASE_POOL_3_SERVICE_ROLE_KEY=...
# SUPABASE_POOL_3_DATABASE_URL=...

# -----------------------------------------------------------------------------
# OPTION B: PER-APP MODE
# -----------------------------------------------------------------------------
# Uncomment these and comment out the POOLED config above to use per-app mode.
# Get access token from: Supabase Dashboard → Account → Access Tokens
#
# SUPABASE_MODE=per-app
# SUPABASE_ACCESS_TOKEN=sbp_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# =============================================================================
# OPTIONAL: Override defaults
# =============================================================================

# AWS Profile for platform secrets (default: jake-dev)
# AWS_PROFILE=jake-dev

# AWS Region (default: us-east-1)
# AWS_REGION=us-east-1

# Docker image to use (default: leo-container:dev)
# LEO_CONTAINER_IMAGE=leo-container:dev

# GitHub repo owner for generated apps (default: app-gen-bot)
# GITHUB_OWNER=app-gen-bot

# WebSocket URL for container (default: ws://host.docker.internal:5013)
# WS_BASE_URL=ws://host.docker.internal:5013
